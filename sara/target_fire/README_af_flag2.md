# README

## Overview

`af_flag_full_combined_with_af_flag2.parquet` 은 날짜별(`date`), 그리드별(`grid_id`)로 기록된 화재 플래그 데이터를 담고 있으며, 원본 `af_flag` 값과 새로운 기준(`af_flag2`)에 따른 플래그 값을 함께 제공합니다.

- **원본 파일**: `af_flag_full_combined.parquet`
- **보조 파일**: `landcover_type1_korea_2001_2023.parquet` (연도별 토지피복 정보)
- **출력 파일**: 이 두 데이터를 합쳐 `af_flag2` 열을 추가한 결과물

---

## Schema

| Column     | Type   | Description                                                                                         |
| ---------- | ------ | --------------------------------------------------------------------------------------------------- |
| `date`     | `date` | 관측 일자 (ISO 8601 형식)                                                                           |
| `grid_id`  | `int`  | 한국 경위도를 0.1도 셀로 나눈 뒤 일련번호화한 그리드 식별자                                         |
| `af_flag`  | `int`  | 원본 화재 플래그 값 (`>0`이면 화재 발생, `0`이면 없음)                                              |
| `af_flag2` | `int`  | 토지피복 유형(`lc_type1`)이 1~5인 경우 `af_flag` 값을, 그 외에는 `0`을 지정한 새로운 화재 플래그 값 |

---

## Grid → 좌표 변환

그리드 ID를 실제 위도·경도로 변환하려면 아래 공식을 사용합니다:

```python
lat = ((grid_id // 3600) - 900) * 0.1 + 0.05
lon = ((grid_id % 3600) - 1800) * 0.1 + 0.05
```

## 연도별 화점 분포 시각화

아래는 전처리된 데이터를 기반으로 생성된 연도별 화점 분포 산점도 예시 이미지입니다.
- **af_flag**: 기존 MODIS 파일을 근거로한 화재 지역 분포. 파란색(투명도50%) 적용
- **af_flag2**: 기존 MODIS 파일에서 Landcover의 산림지역에서 발생한 화재 지역만 추출출. 빨간색(투명도50%) 적용
- **both**: 위 두 flag가 겹치는 경우 초록색(투명도0%) 적용.

- **2000년\~2025년**
  ![화점 분포]() 

